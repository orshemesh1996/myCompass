@{
    ViewData["Title"] = "Statistics";
}


@section scripts {

    <script type="text/javascript">
        var arr = [];
        $(document).ready(function () {
            $.ajax({
                type: "GET",
                url: 'https://localhost:44323/Home/TripCategoriesByTripEvent',
                dataType: 'json',
                async: false,
                accepts: "application/json",
                success: function (data) {
                    data.forEach((category) => {
                        var generateColor = "#999999";
                        var piePeaceObject = {
                            label: category.Name,
                            value: category.TripEvents.length,
                            color: generateColor
                        }
                        console.log('piePeaceObject = ' + piePeaceObject);
                        arr.push(piePeaceObject);
                    });
                    //console.log(data);
                    //createCategoriesCounter(data);
                }
            });
            
            getPieChart(arr);
        });
    </script>

}

<h3 class="display-4">Statistics</h3>
<div class="text-center" id="pieChart">

</div>
<div asp-action="TripCategoriesByTripEvent">
    
</div>